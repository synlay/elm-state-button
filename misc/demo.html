<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <link rel="stylesheet" href="https://bowercdn.net/c/bootstrap-3.3.7/dist/css/bootstrap.css">
  <style media="screen">
    body {
      padding: 10px;
    }
  </style>
  <script type="text/javascript" src="../dist/main.js"></script>
</head>

<body>
  <div id="state-button"></div>

  <script type="text/javascript">
    var element = document.getElementById("state-button");

    var flags = {
      start: { text: 'Start', icon: 'glyphicon glyphicon-send', style: 'btn btn-primary' },
      process: { text: 'Process', icon: 'glyphicon glyphicon-time', style: 'btn btn-default' },
      succeed: { text: 'Succeed', icon: 'glyphicon glyphicon-ok', style: 'btn btn-success' },
      failure: { text: 'Failure', icon: 'glyphicon glyphicon-remove', style: 'btn btn-danger' }
    }

    var stateButton = Elm.Main.embed(element, flags);

    stateButton.ports.change.subscribe(function(state) {
      console.log(state);
    });

    stateButton.ports.error.subscribe(function(error) {
      console.error(error);
    });
  </script>

  <hr>

  <a class="btn btn-link" onclick="stateButton.ports.state.send('start')">Emit 'start'</a>
  <a class="btn btn-link" onclick="stateButton.ports.state.send('process')">Emit 'process'</a>
  <a class="btn btn-link" onclick="stateButton.ports.state.send('failure')">Emit 'failure'</a>
  <a class="btn btn-link" onclick="stateButton.ports.state.send('succeed')">Emit 'succeed'</a>
</body>

</html>
