<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <link rel="stylesheet" href="https://bowercdn.net/c/bootstrap-3.3.7/dist/css/bootstrap.css">
  <style media="screen">
    body {
      padding: 10px;
    }
  </style>
  <script type="text/javascript" src="../dist/main.js"></script>
</head>

<body>
  <div id="state-button"></div>

  <script type="text/javascript">
    var element = document.getElementById("state-button");

    var flags = [{
        name: "Start",
        text: 'Start',
        icon: 'glyphicon glyphicon-send',
        style: 'btn btn-primary',
        disabled: false,
        initAnimation: 'pulse'
      },
      {
        name: 'Process',
        text: 'Process',
        icon: 'glyphicon glyphicon-time',
        style: 'btn btn-default',
        disabled: false,
        initAnimation: 'pulse'
      },
      {
        name: 'Failure',
        text: 'Failure',
        icon: 'glyphicon glyphicon-remove',
        style: 'btn btn-danger',
        disabled: false,
        initAnimation: 'shake'
      },
      {
        name: 'Success',
        text: 'Success',
        icon: 'glyphicon glyphicon-ok',
        style: 'btn btn-success',
        disabled: false,
        initAnimation: 'pulse'
      }
    ]

    var stateButton = Elm.Main.embed(element, flags);

    stateButton.ports.change.subscribe(function(state) {
      console.log(state);
    });

    stateButton.ports.error.subscribe(function(error) {
      console.error(error);
    });
  </script>

  <hr>

  <a class="btn btn-link" onclick="stateButton.ports.state.send('Start')">Emit 'start'</a>
  <a class="btn btn-link" onclick="stateButton.ports.state.send('Process')">Emit 'process'</a>
  <a class="btn btn-link" onclick="stateButton.ports.state.send('Failure')">Emit 'failure'</a>
  <a class="btn btn-link" onclick="stateButton.ports.state.send('Success')">Emit 'Success'</a>
</body>

</html>
